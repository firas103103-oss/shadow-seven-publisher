import{j as e}from"./query-vendor-Dt0le05-.js";import{a as t}from"./react-vendor-Bs_e_mwx.js";import{b as s}from"./index-3Yd-DfCj.js";import{P as a,a1 as l,a4 as r,q as o,w as d,aa as n,ab as i,ac as c,y as h,D as x,R as m,ad as b}from"./ui-vendor-CeVg9BGE.js";import"./chart-vendor-ce8NDi9W.js";const g=()=>{const{success:g,error:u,info:w,warning:f}=s(),[y,j]=t.useState({title:"",author:"",subtitle:"",genre:"Ø±ÙˆØ§ÙŠØ©",style:"modern",primaryColor:"#1e3a5f",secondaryColor:"#c9a227",textColor:"#ffffff"}),[v,N]=t.useState(null),[C,k]=t.useState(!1),[S,$]=t.useState([]),[T,L]=t.useState(0),R=(e,t=0)=>{if("undefined"==typeof document)return"";const s=document.createElement("canvas");s.width=800,s.height=1200;const a=s.getContext("2d"),l=[a.createLinearGradient(0,0,s.width,s.height),a.createLinearGradient(s.width,0,0,s.height),a.createLinearGradient(0,s.height,s.width,0)],r=l[t%l.length];r.addColorStop(0,e.primaryColor),r.addColorStop(1,e.secondaryColor),a.fillStyle=r,a.fillRect(0,0,s.width,s.height),a.globalAlpha=.12,a.fillStyle=e.textColor;for(let h=0;h<6;h++){a.beginPath();const e=80+30*h;a.arc(120+100*h,150+120*h,e,0,2*Math.PI),a.fill()}a.globalAlpha=1,a.fillStyle=e.textColor,a.textAlign="center",a.font='bold 44px "Cairo", sans-serif';const o=e.title||"ØºÙ„Ø§Ù Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†";A(a,o,s.width/2,s.height/2-60,520,56),e.subtitle&&(a.font='28px "Cairo", sans-serif',A(a,e.subtitle,s.width/2,s.height/2+40,520,40)),e.author&&(a.font='24px "Cairo", sans-serif',a.fillText(e.author,s.width/2,s.height/2+160)),a.font='20px "Cairo", sans-serif';const d=e.genre,n=a.measureText(d).width+40,i=(s.width-n)/2,c=s.height-140;return a.fillStyle="rgba(255,255,255,0.15)",a.fillRect(i,c-28,n,48),a.fillStyle=e.textColor,a.fillText(d,s.width/2,c+6),s.toDataURL("image/png")},A=(e,t,s,a,l,r)=>{const o=t.split(" ");let d="";for(let n=0;n<o.length;n++){const t=d+o[n]+" ";e.measureText(t).width>l&&n>0?(e.fillText(d.trim(),s,a),d=o[n]+" ",a+=r):d=t}e.fillText(d.trim(),s,a)},D=async()=>{if(y.title.trim()){k(!0);try{const e=[0,1,2,3].map(e=>({id:`${Date.now()}-${e}`,url:R(y,e),style:y.style,prompt:`ØºÙ„Ø§Ù ${y.genre} Ø¨Ø£Ø³Ù„ÙˆØ¨ ${y.style}`}));$(e),L(0),g("ØªÙ… ØªÙˆÙ„ÙŠØ¯ ØªØµØ§Ù…ÙŠÙ… Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªØ­Ù…ÙŠÙ„")}catch(e){u("ÙØ´Ù„ Ø§Ù„ØªÙˆÙ„ÙŠØ¯")}finally{k(!1)}}else u("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ø¨")},F=S[T]||null;return e.jsxs("div",{className:"min-h-screen bg-shadow-bg p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsx(a,{className:"w-10 h-10 text-shadow-accent"}),e.jsx("h1",{className:"text-4xl font-bold text-shadow-text cyber-text",children:"Ù…ØµÙ…Ù… Ø§Ù„Ø£ØºÙ„ÙØ©"})]}),e.jsx("p",{className:"text-shadow-text/60",children:"ØµÙ…Ù… ØºÙ„Ø§Ù ÙƒØªØ§Ø¨Ùƒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø«ÙˆØ§Ù†Ù"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"cyber-card bg-shadow-surface rounded-lg border border-shadow-primary/20 p-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-shadow-text mb-4 flex items-center gap-2",children:[e.jsx(l,{className:"w-5 h-5 text-shadow-accent"}),"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-shadow-text/60 mb-1",children:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù† *"}),e.jsx("input",{type:"text",value:y.title,onChange:e=>j({...y,title:e.target.value}),placeholder:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ø¨...",className:"w-full px-3 py-2 bg-shadow-bg border border-shadow-primary/30 rounded-lg text-shadow-text placeholder:text-shadow-text/40 focus:outline-none focus:border-shadow-accent transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-shadow-text/60 mb-1",children:"Ø§Ù„Ù…Ø¤Ù„Ù"}),e.jsx("input",{type:"text",value:y.author,onChange:e=>j({...y,author:e.target.value}),placeholder:"Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ù„Ù...",className:"w-full px-3 py-2 bg-shadow-bg border border-shadow-primary/30 rounded-lg text-shadow-text placeholder:text-shadow-text/40 focus:outline-none focus:border-shadow-accent transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-shadow-text/60 mb-1",children:"Ø¹Ù†ÙˆØ§Ù† ÙØ±Ø¹ÙŠ"}),e.jsx("input",{type:"text",value:y.subtitle,onChange:e=>j({...y,subtitle:e.target.value}),placeholder:"Ø¹Ù†ÙˆØ§Ù† ÙØ±Ø¹ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)...",className:"w-full px-3 py-2 bg-shadow-bg border border-shadow-primary/30 rounded-lg text-shadow-text placeholder:text-shadow-text/40 focus:outline-none focus:border-shadow-accent transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-shadow-text/60 mb-1",children:"Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ø£Ø¯Ø¨ÙŠ"}),e.jsx("select",{value:y.genre,onChange:e=>j({...y,genre:e.target.value}),className:"w-full px-3 py-2 bg-shadow-bg border border-shadow-primary/30 rounded-lg text-shadow-text focus:outline-none focus:border-shadow-accent transition-colors",children:["Ø±ÙˆØ§ÙŠØ©","Ù‚ØµØ© Ù‚ØµÙŠØ±Ø©","Ø´Ø¹Ø±","Ø®ÙŠØ§Ù„ Ø¹Ù„Ù…ÙŠ","ÙØ§Ù†ØªØ§Ø²ÙŠØ§","Ø±Ø¹Ø¨","Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ","ØªØ§Ø±ÙŠØ®ÙŠ","Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ©","ØªØ·ÙˆÙŠØ± Ø°Ø§Øª"].map(t=>e.jsx("option",{value:t,children:t},t))})]})]})]}),e.jsxs("div",{className:"cyber-card bg-shadow-surface rounded-lg border border-shadow-primary/20 p-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-shadow-text mb-4 flex items-center gap-2",children:[e.jsx(r,{className:"w-5 h-5 text-shadow-accent"}),"Ø§Ù„Ø£Ø³Ù„ÙˆØ¨"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"modern",name:"Ø¹ØµØ±ÙŠ",icon:"ðŸŽ¨"},{id:"classic",name:"ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ",icon:"ðŸ“š"},{id:"minimalist",name:"Ø¨Ø³ÙŠØ·",icon:"â¬œ"},{id:"artistic",name:"ÙÙ†ÙŠ",icon:"ðŸ–¼ï¸"},{id:"dramatic",name:"Ø¯Ø±Ø§Ù…ÙŠ",icon:"ðŸŒŸ"},{id:"elegant",name:"Ø£Ù†ÙŠÙ‚",icon:"âœ¨"}].map(t=>e.jsxs("button",{onClick:()=>j({...y,style:t.id}),className:`\n                      cyber-button p-3 rounded-lg transition-all flex flex-col items-center gap-1\n                      ${y.style===t.id?"bg-shadow-accent text-white":"bg-shadow-bg text-shadow-text hover:bg-shadow-primary/20"}\n                    `,children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsx("span",{className:"text-xs",children:t.name})]},t.id))})]}),e.jsxs("div",{className:"cyber-card bg-shadow-surface rounded-lg border border-shadow-primary/20 p-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-shadow-text mb-4 flex items-center gap-2",children:[e.jsx(a,{className:"w-5 h-5 text-shadow-accent"}),"Ø§Ù„Ø£Ù„ÙˆØ§Ù†"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(p,{label:"Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ",value:y.primaryColor,onChange:e=>j({...y,primaryColor:e})}),e.jsx(p,{label:"Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ",value:y.secondaryColor,onChange:e=>j({...y,secondaryColor:e})}),e.jsx(p,{label:"Ù„ÙˆÙ† Ø§Ù„Ù†Øµ",value:y.textColor,onChange:e=>j({...y,textColor:e})})]})]}),e.jsx("button",{onClick:D,disabled:C||!y.title.trim(),className:"w-full cyber-button bg-gradient-to-r from-shadow-accent to-purple-600 px-6 py-4 rounded-lg hover:shadow-glow transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯..."]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-5 h-5"}),"ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ"]})})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:"cyber-card bg-shadow-surface rounded-lg border border-shadow-primary/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-shadow-text flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5 text-shadow-accent"}),"Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©"]}),S.length>0&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm text-shadow-text/60",children:[T+1," / ",S.length]})})]}),0===S.length?e.jsxs("div",{className:"aspect-[2/3] bg-gradient-to-br from-shadow-bg to-shadow-primary/10 rounded-lg flex flex-col items-center justify-center border-2 border-dashed border-shadow-primary/30",children:[e.jsx(n,{className:"w-24 h-24 text-shadow-text/20 mb-4"}),e.jsx("p",{className:"text-shadow-text/60 text-center mb-2",children:"Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø£ØºÙ„ÙØ© Ø¨Ø¹Ø¯"}),e.jsx("p",{className:"text-shadow-text/40 text-sm text-center",children:'Ø§Ù…Ù„Ø£ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆØ§Ø¶ØºØ· Ø¹Ù„Ù‰ "ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ"'})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-[2/3] bg-shadow-bg rounded-lg overflow-hidden shadow-2xl",children:F&&e.jsx("img",{src:F.url,alt:"Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØºÙ„Ø§Ù",className:"w-full h-full object-cover"})}),S.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{0!==S.length&&L(e=>(e-1+S.length)%S.length)},className:"absolute left-2 top-1/2 -translate-y-1/2 cyber-button bg-shadow-surface/90 p-3 rounded-full hover:bg-shadow-accent transition-all",children:e.jsx(i,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>{0!==S.length&&L(e=>(e+1)%S.length)},className:"absolute right-2 top-1/2 -translate-y-1/2 cyber-button bg-shadow-surface/90 p-3 rounded-full hover:bg-shadow-accent transition-all",children:e.jsx(c,{className:"w-6 h-6"})})]})]}),S.length>0&&e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:()=>{if(0!==S.length)try{const e=S[T]||S[0];localStorage.setItem("lastCover",e.url),g("ØªÙ… Ø­ÙØ¸ Ø§Ù„ØºÙ„Ø§Ù Ù…Ø­Ù„ÙŠØ§Ù‹"),w("ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ù…ÙŠÙ„Ù‡ Ø§Ù„Ø¢Ù†")}catch(e){u("ØªØ¹Ø°Ø± Ø­ÙØ¸ Ø§Ù„ØºÙ„Ø§Ù Ù…Ø­Ù„ÙŠØ§Ù‹")}else f("Ù‚Ù… Ø¨ØªÙˆÙ„ÙŠØ¯ ØºÙ„Ø§Ù Ø£ÙˆÙ„Ø§Ù‹")},className:"flex-1 cyber-button bg-shadow-primary/20 px-4 py-3 rounded-lg hover:bg-shadow-primary/30 transition-all flex items-center justify-center gap-2",children:[e.jsx(h,{className:"w-5 h-5"}),"Ø­ÙØ¸"]}),e.jsxs("button",{onClick:()=>{if(0===S.length)return void f("Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØºÙ„Ø§Ù Ù„Ù„ØªØ­Ù…ÙŠÙ„");const e=S[T]||S[0],t=document.createElement("a");t.href=e.url,t.download=`${y.title||"cover"}.png`,document.body.appendChild(t),t.click(),t.remove(),g("ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØºÙ„Ø§Ù")},className:"flex-1 cyber-button bg-shadow-accent px-4 py-3 rounded-lg hover:shadow-glow transition-all flex items-center justify-center gap-2",children:[e.jsx(x,{className:"w-5 h-5"}),"ØªØ­Ù…ÙŠÙ„"]}),e.jsx("button",{onClick:D,disabled:C,className:"cyber-button bg-shadow-primary/20 px-4 py-3 rounded-lg hover:bg-shadow-primary/30 transition-all disabled:opacity-50",children:e.jsx(m,{className:"w-5 h-5 "+(C?"animate-spin":"")})})]})]}),e.jsxs("div",{className:"cyber-card bg-shadow-surface rounded-lg border border-shadow-primary/20 p-4",children:[e.jsxs("h2",{className:"text-lg font-bold text-shadow-text mb-4 flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 text-shadow-accent"}),"Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©"]}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:[{id:1,name:"Ø§Ù„Ù†Ø¬ÙˆÙ…",preview:"â­",style:"modern"},{id:2,name:"Ø§Ù„ØºÙ…ÙˆØ¶",preview:"ðŸŒ™",style:"dramatic"},{id:3,name:"Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØ©",preview:"ðŸ“–",style:"classic"},{id:4,name:"Ø§Ù„Ø¨Ø³Ø§Ø·Ø©",preview:"â–ªï¸",style:"minimalist"},{id:5,name:"Ø§Ù„ÙÙ†",preview:"ðŸŽ­",style:"artistic"},{id:6,name:"Ø§Ù„Ø£Ù†Ø§Ù‚Ø©",preview:"ðŸ’Ž",style:"elegant"}].map(t=>e.jsx("button",{onClick:()=>{N(t.id),j({...y,style:t.style}),w(`ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ù‚Ø§Ù„Ø¨: ${t.name}`)},className:`\n                      aspect-[2/3] cyber-card rounded-lg transition-all flex flex-col items-center justify-center text-4xl\n                      ${v===t.id?"border-2 border-shadow-accent bg-shadow-accent/10":"border border-shadow-primary/20 hover:border-shadow-accent/50 bg-shadow-bg"}\n                    `,children:t.preview},t.id))})]})]})]})]}),e.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-10 cyber-grid -z-10"})]})},p=({label:t,value:s,onChange:a})=>e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("label",{className:"text-sm text-shadow-text/60",children:t}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:s,onChange:e=>a(e.target.value),className:"w-12 h-8 rounded border-2 border-shadow-primary/30 cursor-pointer"}),e.jsx("input",{type:"text",value:s,onChange:e=>a(e.target.value),className:"w-24 px-2 py-1 bg-shadow-bg border border-shadow-primary/30 rounded text-xs text-shadow-text focus:outline-none focus:border-shadow-accent transition-colors"})]})]});export{g as default};
